{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "required": ["tier", "title", "content", "entries", "meta"],
  "properties": {
    "tier": {
      "type": "string",
      "pattern": "^(free|vip1|vip2|vip3|vip4)"
    },
    "title": {
      "type": "object",
      "required": ["en", "vi"],
      "properties": {
        "en": { "type": "string", "minLength": 1 },
        "vi": { "type": "string", "minLength": 1 }
      }
    },
    "content": {
      "type": "object",
      "required": ["en", "vi"],
      "properties": {
        "en": { "type": "string", "minLength": 1 },
        "vi": { "type": "string", "minLength": 1 }
      }
    },
    "entries": {
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "object",
        "required": ["slug", "keywords_en", "keywords_vi", "copy", "tags", "audio"],
        "properties": {
          "slug": { "type": "string", "pattern": "^[a-z0-9-]+$" },
          "keywords_en": {
            "type": "array",
            "items": { "type": "string" }
          },
          "keywords_vi": {
            "type": "array",
            "items": { "type": "string" }
          },
          "copy": {
            "type": "object",
            "required": ["en", "vi"],
            "properties": {
              "en": { "type": "string", "minLength": 1 },
              "vi": { "type": "string", "minLength": 1 }
            }
          },
          "tags": {
            "type": "array",
            "items": { "type": "string" }
          },
          "audio": { "type": "string", "pattern": "^[a-zA-Z0-9_-]+\\.mp3$" }
        }
      }
    },
    "meta": {
      "type": "object",
      "required": ["tier", "entry_count"],
      "properties": {
        "created_at": { "type": "string" },
        "updated_at": { "type": "string" },
        "entry_count": { "type": "integer", "minimum": 1 },
        "tier": { "type": "string" },
        "room_color": { "type": "string" }
      }
    }
  }
}
